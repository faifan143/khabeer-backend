<!DOCTYPE html>
<html>
<head>
    <title>Simple CORS Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test-image { width: 200px; height: 200px; border: 2px solid #ccc; margin: 10px; }
        .status { padding: 10px; margin: 10px 0; border-radius: 4px; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
    </style>
</head>
<body>
    <h1>Simple CORS Test</h1>
    
    <div id="status" class="status">Testing...</div>
    
    <div>
        <h3>Test Image:</h3>
        <img id="testImg" class="test-image" 
             src="http://localhost:3001/uploads/1754234785341-217718138.png"
             onload="imageLoaded()" 
             onerror="imageError()">
    </div>
    
    <div>
        <h3>Direct Link Test:</h3>
        <a href="http://localhost:3001/uploads/1754234785341-217718138.png" target="_blank">
            Click here to open image in new tab
        </a>
    </div>

    <script>
        function imageLoaded() {
            document.getElementById('status').innerHTML = '✅ Image loaded successfully!';
            document.getElementById('status').className = 'status success';
            console.log('✅ Image loaded successfully');
        }
        
        function imageError() {
            document.getElementById('status').innerHTML = '❌ Image failed to load';
            document.getElementById('status').className = 'status error';
            console.log('❌ Image failed to load');
        }
        
        // Test fetch API
        fetch('http://localhost:3001/uploads/1754234785341-217718138.png')
            .then(response => {
                console.log('Fetch response status:', response.status);
                console.log('Fetch response headers:', response.headers);
                if (response.ok) {
                    console.log('✅ Fetch successful');
                } else {
                    console.log('❌ Fetch failed:', response.status);
                }
            })
            .catch(error => {
                console.log('❌ Fetch error:', error);
            });
    </script>
</body>
</html> 